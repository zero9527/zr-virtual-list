(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,,,,,,,,function(e,t,r){var n=r(3),o=r(9);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={insert:"head",singleton:!1};n(o,c);e.exports=o.locals||{}},function(e,t,r){(t=r(4)(!1)).push([e.i,".zr-virtual-list {\r\n  width: 100%;\r\n  overflow-x: hidden;\r\n  overflow-y: auto;\r\n}\r\n\r\n.virtual-wrapper {\r\n  width: calc(100% + 10px);\r\n  padding-right: 10px;\r\n}\r\n\r\n.virtual-item-wrapper {\r\n  position: relative;\r\n  will-change: auto;\r\n  transform: translateZ(0);\r\n}\r\n",""]),e.exports=t},function(e,t,r){var n=r(3),o=r(11);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={insert:"head",singleton:!1};n(o,c);e.exports=o.locals||{}},function(e,t,r){(t=r(4)(!1)).push([e.i,".scroll-container {\r\n  height: 500px;\r\n}\r\n\r\n.list {\r\n  margin: 10px 0;\r\n}\r\n\r\n.item {\r\n  padding: 10px 0;\r\n  font-size: 30px;\r\n  border-bottom: 1px solid #ccc;\r\n  background-color: #ffc107;\r\n}\r\n\r\n.item-2n {\r\n  background-color: #00bcd4;\r\n}\r\n",""]),e.exports=t},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,r=0,o=!0,c=function(e){r=e,o=!1},i=function(t){e(t)};return Object(n.useCallback)((function(e){var n=(new Date).getTime();if(o&&n-r>t)return c(n),i(e),void setTimeout((function(){o=!0}),t)}),[])};r(8);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,c=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,c=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw c}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=function(e){var t=e.itemKey,r=e.dataList,i=e.children,a=e.defaultStartIndex,f=e.defaultScrollTop,s=e.className,d=void 0===s?"":s,p=e.renderCount,b=void 0===p?20:p,m=e.onScroll,y=e.getScrollContainer,v=e.onStartIndexChange,O=Object(n.useRef)(null),g=Object(n.useRef)(null),h=Object(n.useRef)(0),j=Object(n.useRef)(0),w=Object(n.useRef)(0),S=l(Object(n.useState)([]),2),x=S[0],A=S[1];if(null!=r&&!Array.isArray(r))return console.warn("[list]不是数组！"),o.a.createElement("p",{style:{color:"#ff5722"}},"list不是数组！");Object(n.useEffect)((function(){return b<10&&console.warn("建议[renderCount] >= 10"),Array.isArray(r)&&(h.current=h.current||a||0,E(),T("add"),P(h.current),f&&setTimeout((function(){g.current.scrollTop=f||0}),0)),function(){T("remove")}}),[r,a,f,b]);var E=function(){g.current=C(),setTimeout((function(){w.current=g.current.scrollHeight/b}),0)},P=Object(n.useCallback)((function(e){A((function(){return r.slice(e,e+b).map((function(t,r){return u(u({},t),{},{index:e+r})}))}))}),[r,b]),C=function(){var e;return null!==(e=null==y?void 0:y())&&void 0!==e?e:document.body.scrollTop?document.body:document.documentElement},T=function(e){y?g.current["".concat(e,"EventListener")]("scroll",k,!1):window["".concat(e,"EventListener")]("scroll",k,!1)},k=function(){var e=C().scrollTop,t=document.querySelectorAll(".virtual-item-wrapper"),r=Array.from(t).find((function(t){return t.offsetTop>=e}));if(r){var n=r.getAttribute("item-index");D(Number(n))}I(e)},I=c((function(e){j.current=e,m&&m(e)})),D=function(e){var t=b>10?10:b/2;h.current=e>t?e-t:0,O.current.setAttribute("start-index","".concat(h.current)),P(h.current),v&&v(h.current)},R=Object(n.useCallback)((function(e){return t&&e[t]?e[t]:e.index}),[t]);return o.a.createElement("div",{ref:O,className:"zr-virtual-list ".concat(d),"item-key":t,"render-count":b,"data-length":r.length},x.map((function(e){return o.a.createElement("div",{key:R(e),"item-index":e.index,className:"virtual-item-wrapper"},i(e,e.index))})))},d=(r(10),function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,o=0,c=function(){for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];t&&clearTimeout(t),t=setTimeout((function(){e.apply(null,o)}),r)};return Object(n.useCallback)((function(){var e=(new Date).getTime();o=e-o>r&&0!==o?0:e,c.apply(void 0,arguments)}),[])});function p(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,c=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,c=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw c}}return r}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.default=function(e){var t=e.renderCount,r=e.beforeRouteLeave,c=e.stateRestore,i=e.scrollRestore,u=(e.getKeepAlive,v(Object(n.useState)(0),2)),a=u[0],l=u[1],f=v(Object(n.useState)(0),2),b=f[0],y=f[1],O=v(Object(n.useState)([]),2),g=O[0],h=O[1];Object(n.useEffect)((function(){for(var e=[],t=0;t<1e4;t++)e.push({id:"id-".concat(t),count:0});h(e),j()}),[]);var j=function(){var e=i(),t=c();console.log(e,t),l(e||0),y((null==t?void 0:t.startIndex)||0)},w=function(e,t){h((function(r){var n=m(m({},r[e]),{},{count:"increment"===t?r[e].count+1:r[e].count-1});return r.splice(e,1,n),p(r)}))},S=d((function(e){console.log("index: ",e)}));return o.a.createElement(s,{itemKey:"id",className:"scroll-container",dataList:g,renderCount:t,defaultScrollTop:a,defaultStartIndex:b,getScrollContainer:function(){return document.querySelector(".scroll-container")},onScroll:function(e){l(e),r(e,{})},onStartIndexChange:S},(function(e,t){return o.a.createElement("div",{className:"item ".concat(t%2==0?"item-2n":"")},o.a.createElement("p",null,o.a.createElement("button",{onClick:function(){return w(t,"decrement")}},"count--")," ",o.a.createElement("button",{onClick:function(){return w(t,"increment")}},"count++")),o.a.createElement("p",null,"id: ",e.id),o.a.createElement("p",null,"count: ",e.count))}))}}]]);