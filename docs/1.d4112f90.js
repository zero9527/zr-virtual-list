(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,,,,,,,function(e,t,n){var r=n(2),o=n(8);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={insert:"head",singleton:!1},a=(r(o,c),o.locals?o.locals:{});e.exports=a},function(e,t,n){(t=n(3)(!1)).push([e.i,".zr-virtual-list {\n  width: 100%;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.placeholder {\n  opacity: 0;\n  visibility: hidden;\n  pointer-events: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.virtual-item-wrapper {\n  position: relative;\n  will-change: auto;\n  transform: translateZ(0);\n}\n",""]),e.exports=t},function(e,t,n){var r=n(2),o=n(10);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={insert:"head",singleton:!1},a=(r(o,c),o.locals?o.locals:{});e.exports=a},function(e,t,n){(t=n(3)(!1)).push([e.i,".scroll-container {\n  height: 56vh;\n  max-height: 600px;\n}\n.scroll-container .list {\n  margin: 10px 0;\n}\n.scroll-container .item {\n  padding: 10px 0;\n  font-size: 30px;\n  border-bottom: 1px solid #ccc;\n  background-color: #ffc107;\n}\n.scroll-container .item .image {\n  width: auto;\n  height: 150px;\n}\n.scroll-container .item-2n {\n  background-color: #00bcd4;\n}\n",""]),e.exports=t},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r);n(7);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,c=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,c=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=function(e){var t=e.itemKey,n=e.dataList,i=e.children,l=e.defaultStartIndex,s=e.defaultScrollTop,f=e.className,d=void 0===f?"":f,p=e.renderCount,b=void 0===p?20:p,y=e.onScroll,m=e.getScrollContainer,v=e.onStartIndexChange,h=Object(r.useRef)(null),O=Object(r.useRef)(null),g=Object(r.useRef)(0),j=Object(r.useRef)(0),w=Object(r.useRef)(0),S=Object(r.useRef)(null),x=Object(r.useRef)(null),E=u(Object(r.useState)([]),2),A=E[0],C=E[1];if(!Array.isArray(n))return console.warn("[list] is not Array!"),o.a.createElement("p",{style:{color:"#ff5722"}},"[list] is not Array!");if(b<0)return console.warn("[renderCount] can not less than 0!"),o.a.createElement("p",{style:{color:"#ff5722"}},"[renderCount] can not less than 0!");Object(r.useEffect)((function(){b<10&&console.warn("建议[renderCount] >= 10")}),[]),Object(r.useEffect)((function(){"number"==typeof s&&(j.current=s)}),[s]),Object(r.useEffect)((function(){"number"==typeof l&&(g.current=l)}),[l]),Object(r.useLayoutEffect)((function(){return Array.isArray(n)&&(P(),I(g.current),R("add")),function(){R("remove")}}),[n,l,s,b]);var P=function(){h.current=T(),setTimeout((function(){var e;w.current=w.current||(null===(e=h.current)||void 0===e?void 0:e.scrollHeight)/b,j.current=g.current?k({startIndex:g.current}):j.current||s||0,M(),h.current.scrollTop=j.current}),0)},I=Object(r.useCallback)((function(e){C((function(){return n.slice(e,e+b).map((function(t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{index:e+n})}))}))}),[n,b]),k=function(e){var t=e.scrollTop,n=e.startIndex;if(void 0!==t&&void 0!==n&&console.log("优先使用[startIndex]"),"number"==typeof n)return Math.floor(w.current*n);var r=Math.floor(t/w.current);return console.log(r),r},T=function(){var e;return null!==(e=null==m?void 0:m())&&void 0!==e?e:document.body.scrollTop?document.body:document.documentElement},R=function(e){m?h.current["".concat(e,"EventListener")]("scroll",D,!1):window["".concat(e,"EventListener")]("scroll",D,!1)},D=function(){var e=T().scrollTop;j.current=e;var t=k({scrollTop:e});L(t),y&&y(e)},L=function(e){var t=Math.floor(b/4);e-t!==g.current&&(O.current.scrollTop=j.current,g.current=e>t?e-t:0,M(),I(g.current),v&&v(g.current))},M=function(){S.current.style.height=N("before")+"px",x.current.style.height=N("after")+"px"},N=Object(r.useCallback)((function(e){var t=0===g.current?0:w.current*g.current;if("before"===e)return t>0?t:0;var r=w.current*(n.length-b)-t;return r>0?r:0}),[n,b]),z=Object(r.useCallback)((function(e){return t&&e[t]?e[t]:e.index}),[t]);return o.a.createElement("div",{ref:O,className:"zr-virtual-list ".concat(d),"item-key":t,"render-count":b,"data-length":n.length},o.a.createElement("div",{ref:S,className:"placeholder",style:{height:N("before")+"px"}}),A.map((function(e){return o.a.createElement("div",{key:z(e),"item-index":e.index,className:"virtual-item-wrapper"},i(e,e.index))})),o.a.createElement("div",{ref:x,className:"placeholder",style:{height:N("after")+"px"}}))};n(9);function s(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,c=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,c=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw c}}return n}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=e.dataLength,n=e.renderCount,c=e.startIndex,a=e.beforeRouteLeave,u=e.stateRestore,i=e.scrollRestore,b=(e.getKeepAlive,p(Object(r.useState)(1e3),2)),y=b[0],m=b[1],v=p(Object(r.useState)([]),2),h=v[0],O=v[1];Object(r.useEffect)((function(){for(var e=[],n=0;n<t;n++)e.push({id:"id-".concat(n),count:0});O(e),g()}),[]);var g=function(){i(),u()},j=function(e,t){console.log(e),O((function(n){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n[e],{count:"increment"===t?n[e].count+1:n[e].count-1});return n.splice(e,1,r),s(n)}))};return o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,o.a.createElement("button",{onClick:function(){m(0)}},"scrollToTop")),h&&o.a.createElement(l,{itemKey:"id",className:"scroll-container",dataList:h,renderCount:n,defaultScrollTop:y,defaultStartIndex:c,getScrollContainer:function(){return document.querySelector(".scroll-container")},onScroll:function(e){console.log(e),a(e,{})},onStartIndexChange:function(e){}},(function(e,t){return o.a.createElement("div",{className:"item ".concat(t%2==0?"item-2n":"")},o.a.createElement("p",null,o.a.createElement("button",{onClick:function(){return j(t,"decrement")}},"count--")," ",o.a.createElement("button",{onClick:function(){return j(t,"increment")}},"count++")),o.a.createElement("p",null,"id: ",e.id),o.a.createElement("p",null,"count: ",e.count))})))}}]]);